{% extends 'store/base.html' %}
{% block title %}Category Detail{% endblock %}
{% block content %}
<div class="level">
    <div class="level-left">
        <div>
            <h2 class="title is-4">{{ object.name }}</h2>
            {% if object.description %}
                <p class="subtitle is-6">{{ object.description }}</p>
            {% endif %}
        </div>
    </div>
    <div class="level-right">
        <a class="button" href="{% url 'category-list' %}">Back to categories</a>
    </div>
</div>

<div class="columns">
    <div class="column">
        <div class="box">
            <h3 class="subtitle is-6">Books</h3>
            {% if books %}
                <ul>
                    {% for book in books %}
                        <li>
                            <a href="{% url 'book-detail' book.pk %}">{{ book.title }}</a>
                            â€” <a href="{% url 'publisher-detail' book.publisher.pk %}">{{ book.publisher.name }}</a>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No books linked to this category.</p>
            {% endif %}
        </div>
    </div>
    <div class="column">
        <div class="box">
            <h3 class="subtitle is-6">Authors</h3>
            {% if authors %}
                <ul>
                    {% for author in authors %}
                        <li><a href="{% url 'author-detail' author.pk %}">{{ author.first_name }} {{ author.last_name }}</a></li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No authors linked to this category.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
